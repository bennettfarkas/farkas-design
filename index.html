<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farkas Design</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üê∫</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Bodoni+Moda&family=DM+Serif+Display&family=Cormorant&family=Instrument+Serif&family=Bebas+Neue&family=Anton&family=Oswald&family=Archivo+Black&family=Space+Grotesk&family=Syne&family=Outfit&family=Bricolage+Grotesque&family=Alfa+Slab+One&family=Zilla+Slab&family=Fraunces&family=Bungee&family=Dela+Gothic+One&family=Rubik+Mono+One&family=Josefin+Sans&family=Raleway&family=Space+Mono&family=Big+Shoulders+Display&family=Fjalla+One&family=Familjen+Grotesk&family=Protest+Strike&family=Libre+Caslon+Display&text=Farkas.Design&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'EB Garamond', serif;
            font-weight: 400;
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2a2a2a;
            background: #fafaf8;
        }
        main {
            text-align: center;
            padding: 2rem;
            width: 100%;
        }
        .wolf {
            font-size: 1.6rem;
            margin: 0 0 1.2rem;
            line-height: 1;
        }
        .headline-wrap {
            display: flex;
            align-items: center;
            justify-content: center;
            height: clamp(3.5rem, 10vw, 6rem);
            overflow: hidden;
            margin: 0 0 0.2rem;
        }
        h1 {
            font-family: 'EB Garamond', serif;
            font-weight: 400;
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            margin: 0;
            letter-spacing: 0.01em;
            white-space: nowrap;
            line-height: 1;
            cursor: pointer;
            user-select: none;
            transform-origin: center;
        }
        h1 span {
            display: inline-block;
        }
        .tagline {
            font-size: 1.05rem;
            font-style: italic;
            color: #888;
            margin: 0 0 2.5rem;
            letter-spacing: 0.01em;
        }
        .signup {
            margin-top: 0;
        }
        .signup-form {
            display: flex;
            max-width: 280px;
            margin: 0 auto;
            border-bottom: 1px solid #ccc;
        }
        .signup-form input[type="email"] {
            flex: 1;
            padding: 0.5rem 0;
            border: none;
            outline: none;
            background: transparent;
            font-family: 'EB Garamond', serif;
            font-size: 0.9rem;
            color: #2a2a2a;
            min-width: 0;
        }
        .signup-form input[type="email"]::placeholder {
            color: #bbb;
        }
        .signup-form button {
            padding: 0.5rem 0;
            margin-left: 0.5rem;
            border: none;
            background: transparent;
            font-family: 'EB Garamond', serif;
            font-style: italic;
            font-size: 0.9rem;
            color: #aaa;
            cursor: pointer;
            white-space: nowrap;
            transition: color 0.2s;
        }
        .signup-form button:hover {
            color: #2a2a2a;
        }
        .success-msg {
            display: none;
            font-size: 0.9rem;
            font-style: italic;
            color: #888;
        }
        .success-msg.show {
            display: block;
        }
    </style>
</head>
<body>
    <main>
        <p class="wolf">üê∫</p>
        <div class="headline-wrap">
            <h1 id="headline">Farkas.Design</h1>
        </div>
        <p class="tagline">brand consulting</p>

        <div class="signup">
            <form class="signup-form" id="signup">
                <input type="email" name="email" placeholder="your@email.com" required autocomplete="email">
                <button type="submit">join list</button>
            </form>
            <p class="success-msg" id="success">you're in.</p>
        </div>
    </main>

    <script>
        // Ordered heaviest ‚Üí lightest
        const fonts = [
            'Dela Gothic One', 'Bungee', 'Rubik Mono One', 'Archivo Black',
            'Alfa Slab One', 'Anton', 'Bebas Neue', 'Protest Strike',
            'Big Shoulders Display', 'Oswald', 'Fjalla One', 'Zilla Slab',
            'Syne', 'DM Serif Display', 'Bodoni Moda', 'Fraunces',
            'Outfit', 'Space Grotesk', 'Bricolage Grotesque', 'Playfair Display',
            'Familjen Grotesk', 'Cormorant', 'Instrument Serif', 'Space Mono',
            'Libre Caslon Display', 'Josefin Sans', 'Raleway'
        ];

        // Ping-pong: heavy ‚Üí light ‚Üí heavy (smooth loop, no jump)
        const wave = [...fonts, ...fonts.slice(1, -1).reverse()];

        const headline = document.getElementById('headline');
        const text = headline.textContent;
        let paused = false;

        // Split into per-character spans
        headline.textContent = '';
        const spans = [];
        for (const char of text) {
            const span = document.createElement('span');
            span.textContent = char;
            headline.appendChild(span);
            spans.push(span);
        }

        headline.addEventListener('mouseenter', () => { paused = true; });
        headline.addEventListener('mouseleave', () => { paused = false; });

        // Synchronized wave: each letter offset in the weight sequence
        let step = 0;
        const offset = 3;

        Promise.allSettled(
            fonts.map(f => document.fonts.load(`48px "${f}"`, 'Farkas.Design'))
        ).then(() => {
            const targetWidth = headline.getBoundingClientRect().width;

            function tick() {
                if (!paused) {
                    spans.forEach((span, i) => {
                        const idx = (step + (spans.length - 1 - i) * offset) % wave.length;
                        span.style.fontFamily = `"${wave[idx]}", serif`;
                    });
                    step++;
                    // Scale to consistent width
                    headline.style.transform = 'none';
                    const actual = headline.getBoundingClientRect().width;
                    headline.style.transform = `scale(${targetWidth / actual})`;
                }
                setTimeout(tick, 70);
            }
            tick();
        });

        document.getElementById('signup').addEventListener('submit', async function(e) {
            e.preventDefault();
            const form = e.target;
            const email = form.email.value;
            const btn = form.querySelector('button');

            btn.textContent = '...';
            btn.disabled = true;

            try {
                const res = await fetch('https://farkas-design-signup.mrsandman.workers.dev', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email })
                });

                if (res.ok) {
                    form.style.display = 'none';
                    document.getElementById('success').classList.add('show');
                } else {
                    btn.textContent = 'try again';
                    btn.disabled = false;
                }
            } catch {
                btn.textContent = 'try again';
                btn.disabled = false;
            }
        });
    </script>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "92c4fc9c9fa64f779aff3ae780074f4d"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>
